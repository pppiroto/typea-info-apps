<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
  <ModulePrefs title="acitivity_test">
  	<Require feature="opensocial-0.8"/>
  </ModulePrefs> 
  <Content type="html">
	<![CDATA[ 
    	<script type="text/javascript">
    		var res = null
    		function getMypageRss() {
	    		var url = "http://typea.info/blg/glob/index.xml";
	    		var params = {};
	    		params[gadgets.io.RequestParameters.METHOD] = gadgets.io.MethodType.GET;
	    		params[gadgets.io.RequestParameters.CONTENT_TYPE] = gadgets.io.ContentType.FEED;
				gadgets.io.makeRequest(url,printRss,params);
			}
			    		
			function printRss(response) {
				var title_area = document.getElementById("title_area");
				var feed_area = document.getElementById("feed_area");
				
				var feed = response.data;
				alert(feed);
				title_area.innerHTML = "<h1><a href='" + feed.Link + "'>" + feed.Title + "</a></h1>"
			
				var buf = "";
				var entries = feed.Entry;
				for (var i=0; i<entries.length; i++) {
					var entry = entries[i];
					buf += "<a href='" + entry.Link + "'>" + entry.Title + "</a><br/>";
				}			
				feed_area.innerHTML = buf;
			}			    		
			gadgets.util.registerOnLoadHandler(getMypageRss);
		</script>
		<div id="title_area"></div>
		<div id="feed_area"></div>
	]]>
  </Content> 
</Module>
